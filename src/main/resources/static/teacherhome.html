<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

	<head>

		<!-- Basic -->
		<meta charset="UTF-8" />

		<title>学生home</title>

		<!-- Mobile Metas -->
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

		<!-- Import google fonts -->
		<!-- <link href='http://fonts.useso.com/css?family=Titillium+Web' rel='stylesheet' type='text/css'> -->

		<!-- Favicon and touch icons -->
		<link rel="shortcut icon" th:href="@{static/assets/ico/favicon.ico}" type="image/x-icon" />
		<link rel="apple-touch-icon" th:href="@{static/assets/ico/apple-touch-icon.png}" />
		<link rel="apple-touch-icon" sizes="57x57" th:href="@{static/assets/ico/apple-touch-icon-57x57.png}" />
		<link rel="apple-touch-icon" sizes="72x72" th:href="@{static/assets/ico/apple-touch-icon-72x72.png}" />
		<link rel="apple-touch-icon" sizes="76x76" th:href="@{static/assets/ico/apple-touch-icon-76x76.png}" />
		<link rel="apple-touch-icon" sizes="114x114" th:href="@{static/assets/ico/apple-touch-icon-114x114.png}" />
		<link rel="apple-touch-icon" sizes="120x120" th:href="@{static/assets/ico/apple-touch-icon-120x120.png}" />
		<link rel="apple-touch-icon" sizes="144x144" th:href="@{static/assets/ico/apple-touch-icon-144x144.png}" />
		<link rel="apple-touch-icon" sizes="152x152" th:href="@{static/assets/ico/apple-touch-icon-152x152.png}" />

		<!-- start: CSS file-->

		<!-- Vendor CSS-->
		<link th:href="@{static/assets/vendor/bootstrap/css/bootstrap.min.css}" rel="stylesheet" />
		<link th:href="@{static/assets/vendor/skycons/css/skycons.css}" rel="stylesheet" />
		<link th:href="@{static/assets/vendor/font-awesome/css/font-awesome.min.css}" rel="stylesheet" />
		<link th:href="@{static/assets/vendor/css/pace.preloader.css}" rel="stylesheet" />

		<!-- Plugins CSS-->
		<link th:href="@{static/assets/plugins/bootkit/css/bootkit.css}" rel="stylesheet" />

		<!-- Theme CSS -->
		<link th:href="@{static/assets/css/jquery.mmenu.css}" rel="stylesheet" />

		<!-- Page CSS -->
		<link th:href="@{static/assets/css/style.css}" rel="stylesheet" />
		<link th:href="@{static/assets/css/add-ons.min.css}" rel="stylesheet" />

		<!-- end: CSS file-->

		<!-- Head Libs -->
		<script th:src="@{static/assets/plugins/modernizr/js/modernizr.js}"></script>
		<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
		<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
		<!--[if lt IE 9]>
			<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
			<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
		<![endif]-->

	</head>

	<body>
   


		<!-- Start: Header -->
		<div class="navbar" role="navigation">
			<div class="container-fluid container-nav">

				<!-- Navbar Left -->

				<!-- Navbar Right -->
			<div class="col-lg-6 bk-fg-info">
			<a class="col-xs-2 bk-fg-info" href="home">
			<i class=" glyphicon glyphicon-home"></i> <small> 首页</small>
			</a>
			<a class="col-xs-2 bk-fg-info" href="toshop">
			<i class="fa fa-shopping-cart"></i> <small> 商城</small>
			</a>
			<a class="col-xs-2 bk-fg-info" href="grouphome">
			<i class="fa fa-envelope"></i> <small> 群组</small>
			</a>
			
			</div>
			
			<!-- Navbar Right -->
			<div class="navbar-right">					
				<!-- Notifications -->
				<ul class="notifications hidden-xs">
					
				</ul>
				<!-- End Notifications -->					
				<!-- Userbox -->
				<div class="userbox">
					<a href="#" class="dropdown-toggle" data-toggle="dropdown">
						<figure class="profile-picture hidden-xs">
							<img th:src="${session.user.headphoto}" class="img-circle" alt="" />
						</figure>
						<div class="profile-info">
							<span class="name">用户名：<span th:text="${session.user.nickname}"></span></span>
							<span class="role"><i class="fa fa-circle bk-fg-success"></i> 用户类型:<span th:text="${session.user.type}"></span></span>
						</div>			
						<i class="fa custom-caret"></i>
					</a>
					<div class="dropdown-menu bk-padding-top-70">
						<ul class="list-unstyled">	
							<li>
								<a href="getinpeoplehome"><i class="fa fa-user"></i>个人中心</a>
							</li>
							<li>
								<a href="topayhome"><i class="fa fa-usd"></i>账户充值</a>
							</li>
							<li>
								<a href="loginoutMJ"><i class="fa fa-power-off"></i>退出</a>
							</li>
						</ul>
					</div>						
				</div>
					<!-- End Userbox -->
				</div>
				<!-- End Navbar Right -->
			</div>
		</div>
		<!-- End: Header -->

		<!-- Start: Content -->
		<div class="container-fluid content">
			<div class="row">

				<!-- Sidebar -->
				<div class="sidebar">
					<div class="sidebar-collapse">
						<!-- Sidebar Header Logo-->
						<div class="sidebar-header">
							<img th:src="@{static/assets/img/logo.png}" class="img-responsive" alt="" />
						</div>
						<!-- Sidebar Menu-->
						<div class="sidebar-menu">
							<nav id="menu" class="nav-main" role="navigation">
								<ul class="nav nav-sidebar">
									<div class="panel-body text-center">
										<div class="flag">
											<button type="button" data-toggle="modal" data-target="#createexammodel" class="bk-margin-10 btn btn-primary btn-lg"><i class="fa fa-pencil-square-o"></i>创建试卷</button>
											<!-- <img th:src="@{static/assets/img/flags/USA.png}" class="img-flags" alt="" /> -->
										</div>
									</div>
									<li>
										<a href="toteacherhome">
											<i class="fa fa-laptop" aria-hidden="true"></i><span>个人中心</span>
										</a>
									</li>
										<li class="nav-parent">
										<a>
											<i class="fa fa-table" aria-hidden="true"></i><span>我的考试</span>
										</a>
										<ul class="nav nav-children">
											<li><a href="toteacherhasexam"><span class="text"> 我的卷纸</span></a></li>
											<li><a href="toteacherpublichexam"><span class="text"> 发布的卷纸</span></a></li>
										</ul>
									</li>
									<li>
										<a href="toteacherquestionlib">
											<!-- <span class="pull-right label label-danger">235</span> -->
											<i class="fa fa-folder-o" aria-hidden="true"></i><span>我的题库</span>
										</a>
									</li>
									<li>
										<a href="grouphome">
											<!-- <span class="pull-right label label-danger">235</span> -->
											<i class="fa fa-folder-o" aria-hidden="true"></i><span>我的群组</span>
										</a>
									</li>
									<li>
										<a href="toteacherpayrecord">
											<i class="fa  fa-shopping-cart" aria-hidden="true"></i><span>消费记录</span>
										</a>
									</li>	

								</ul>
							</nav>
						</div>
						<!-- End Sidebar Menu-->
					</div>
					<!-- Sidebar Footer-->
					<div class="sidebar-footer">
						<div class="small-chart-visits">
							<div class="small-chart" id="sparklineLineVisits"></div>
							<div class="small-chart-info">
								<label>New Visits</label>
								<strong>70,79%</strong>
							</div>
							<script type="text/javascript">
								var sparklineLineVisitsData = [15, 16, 17, 19, 15, 25, 23, 35, 29, 15, 30, 45];
							</script>
						</div>
						<ul class="sidebar-terms bk-margin-top-10">
							<li>
								<a href="#">Terms</a>
							</li>
							<li>
								<a href="#">Privacy</a>
							</li>
							<li>
								<a href="#">Help</a>
							</li>
							<li>
								<a href="#">About</a>
							</li>
						</ul>
					</div>
					<!-- End Sidebar Footer-->
				</div>
				<!-- End Sidebar -->

				<!-- Main Page -->
				<div class="main ">
					<!-- Page Header -->
					<div class="page-header">
						<div class="pull-left">
							<ol class="breadcrumb visible-sm visible-md visible-lg">
								<li>
									<a href="tostudenthome" class="active"><i class="icon fa fa-home"></i>个人中心</a>
								</li>
								<!-- <li><a href="#"><i class="icon fa fa-adjust"></i>tostudenthome</a></li>
								<li class="active"><i class="fa fa-map-marker"></i>Basic</li> -->
							</ol>

						</div>
					</div>

					<div class="row" style="font-size: 20px;">
						<div class="col-lg-1 col-md-1 col-sm-1 col-xs-12"></div>
						<div class="col-lg-9 col-md-9 col-sm-9 col-xs-12">
							<div class="panel panel-default bk-bg-white">
								
								<div class="panel-heading bk-bg-white">
									<i class="fa fa-edit fa-2x"></i>基本资料
								</div>
								<br>
								
								
								<div class="panel-body" >
									<label class="col-md-2 control-label" for="text-input"></label>
											<div class="col-md-9">
												<div class="col-md-4">
													<img th:src="${session.user.headphoto}" alt="" class="img-circle bk-img-120 bk-border-light-gray bk-border-3x" style="width: 140px;height: 140px;">
												</div>&nbsp;&nbsp;&nbsp;&nbsp;
												<br>
												<br>
												<div class="col-md-4">
													<button class="bk-margin-5 btn btn-labeled btn-success" type="button">
										            <span class="btn-label"><i class="fa  fa-user"></i></span>修改头像</button>
												</div>
												<div class="col-md-4">
													<button class="bk-margin-5 btn btn-labeled btn-success" type="button"  data-toggle="modal" data-target="#myModal"> 
										            <span class="btn-label"><i class="fa fa-key" ></i></span>修改密码</button>
												</div>
											</div>
									<form action="/updateByUserId" method="post" class="form-horizontal ">
										
											
											<br><br><br><br><br><br>
											<div class="row-two" >
									        <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12"></div>
									        <div class="col-lg-9 col-md-9 col-sm-9 col-xs-12">
							
											
												<div class="input-group" >
													<span class="input-group-addon"><i class="fa fa-user"></i>昵称</span>
													<input type="text" name="nickname" id="nickname" th:value="${session.user.nickname}"  style="font-size: 20px;" class="form-control" placeholder="请输入昵称">
												</div>
												<span id="help_nickname" class="help-block" style="font-size: 15px;">请输入昵称</span>
												
											
												<div class="input-group">
													<span class="input-group-addon"><i class="fa  fa-info"></i>真实姓名</span>
													<input type="text" name="realname"  readonly="readonly" id="realname" th:value="${session.user.realname}" style="font-size: 20px;" class="form-control" placeholder="请输入真实姓名">
												</div>
												<span id="help_realname" class="help-block" style="font-size: 15px;">请输入真实姓名</span>
												
											
												<div class="input-group">
													<span class="input-group-addon"><i class="fa fa-credit-card"></i>身份证号</span>
													<input type="text" name="identitycard" readonly="readonly" id="identitycard" th:value="${session.user.identitycard}" style="font-size: 20px;" class="form-control" placeholder="请输入身份证号">
												</div>
												<span id="help_identitycard" class="help-block" style="font-size: 15px;">请输入身份证号</span>
												
										
												<div class="input-group">
													<span class="input-group-addon"><i class="fa fa-envelope"></i>邮箱</span>
													<input type="text" name="email" id="email" th:value="${session.user.email}" style="font-size: 20px;" class="form-control" placeholder="请输入邮箱地址">
												</div>
												<span id="help_email" class="help-block" style="font-size: 15px;">请输入邮箱</span>
												
											
												<div class="input-group">
													<span  class="input-group-addon"><i class="fa  fa-phone"></i>手机号</span>
										
													<input type="text" name="phone" readonly="readonly" id="phone" th:value="${session.user.phone}" style="font-size: 20px;" class="form-control" placeholder="请输入手机号">
												
												</div>
												<span id="help_phone" class="help-block" style="font-size: 15px;">请输入手机号</span>
											
												<div class="input-group">
												<div >
													<textarea id="profile" th:text="${session.user.profile}" cols="60"  name="profile" rows="6"  class="form-control" style="font-size: 20px;" placeholder="请输入个人简介..."></textarea>
													<span id="help_profile" name="profile" class="help-block" style="font-size: 15px;">请输入个人简介</span>
												</div>
											</div>
											<button class="bk-margin-5 btn btn-labeled btn-success" type="submit" style="float:right;" id="updateBtn">
												<span class="btn-label"><i class="fa fa-check"></i></span>提交</button>
										</div> 
									</form>
									</div>
								</div>

							</div>
						</div>
						<!-- End Page Header -->

					</div>
					<!-- End Main Page -->

					<!-- Footer -->

					<!-- End Footer -->

				</div>
			</div>
			<!--/container-->

			<!-- <div class="clearfix"></div> -->

			<!-- start: JavaScript-->
			
			<!-- Vendor JS-->
			<script th:src="@{static/assets/vendor/js/jquery.min.js}"></script>
			<script th:src="@{static/assets/vendor/js/jquery-2.1.1.min.js}"></script>
			<script th:src="@{static/assets/vendor/js/jquery-migrate-1.2.1.min.js}"></script>
			<script th:src="@{static/assets/vendor/bootstrap/js/bootstrap.min.js}"></script>
			<script th:src="@{static/assets/vendor/skycons/js/skycons.js}"></script>
			<script th:src="@{static/assets/vendor/js/pace.min.js}"></script>

			<!-- Plugins JS-->
			<!-- <script src="http://maps.google.com/maps/api/js?sensor=false"></script> -->
			<!-- <script th:src="@{static/assets/plugins/gmaps/gmaps.js}"></script> -->
			<script th:src="@{static/assets/plugins/sparkline/js/jquery.sparkline.min.js}"></script>

			<!-- Theme JS -->
			<script th:src="@{static/assets/js/jquery.mmenu.min.js}"></script>
			<script th:src="@{static/assets/js/core.min.js}"></script>
			
			<!-- Pages JS -->
			<!-- <script th:src="@{static/assets/js/pages/map-basic.js}"></script> -->
			<script th:src="@{static/layer/layer.js}"></script>
			<!-- end: JavaScript-->
			
	</body>
<script type="application/javascript">
	$("form").submit(function(){
		if($("#nickname").val()==""){
			$("#help_nickname").html("<font style=\"color: #BD2D29;\">用户昵称不能为空</font>");
			flag1 = 0;
		}else{
			$("#help_nickname").html("<font style=\"color:  #01B6AD;\">输入正确</font>");
			flag1 = 1;
		}
		
		
		if($("#email").val()==""){
			$("#help_email").html("<font style=\"color: #BD2D29;\">邮箱不能为空</font>");
			flag4 = 0;
		}else{
			$("#help_email").html("<font style=\"color:  #01B6AD;\">输入正确</font>");
			flag4 = 1;
		}
		
		if($("#profile").val().length>50||$("#profile").val().length<15){
			$("#help_profile").html("<font style=\"color: #BD2D29;\">用户简介不能低于15字,不能高于50字</font>");
			flag6 = 0;
		}else{
			$("#help_profile").html("<font style=\"color:  #01B6AD;\">输入正确</font>");
			flag6 = 1;
		}
		if(flag1==1&&flag4==1&&flag6==1){
			
			return true;
		}else{
			return false;
		}
		
		
	
	});
	
	
	
	$(document).ready(function(){
		
		$("#createlib").click(function(){
			var clibname = $("#clibname").val().trim().replace(/\s/g,"");
			var clibtype = $("#clibtype").val().trim().replace(/\s/g,"");
			var  flag1 = 0;
			var  flag2 = 0;
			if(clibname==""){
				$("#help_clibname").html("<font style=\"color: #BD2D29;\">密码不能为空</font>");
				flag1 = 0
			}else if(clibname.length<6||clibname.length>=20){
				$("#help_clibname").html("<font style=\"color: #BD2D29;\">密码长度在6到20之间</font>");
				flag1 = 0
			}else{
				
				$("#help_clibname").html("<font style=\"color:  #01B6AD;\">输入正确</font>");
				flag1 = 1;
				
				if(clibtype!=clibname){
					$("#help_clibtype").html("<font style=\"color: #BD2D29;\">两次输入不等</font>");
				flag2 = 0;
				}else{
					$("#help_clibtype").html("<font style=\"color:  #01B6AD;\">输入正确</font>");
					flag2 = 1;
				}
			}
			if(flag1==1&&flag2==1){
				$.ajax({
				type:'post',
				url:'changePassword',
				async:false,
				data:{"password":clibtype},
				success:function(result){
					if(result!=0){
						layer.msg('修改成功', {time: 5000, icon:6});
						$('#myModal').modal('hide');
					}
				}
			});	
				
			};
			

			
			
			
		});
	});
//	$('#updateBtn').click(function(){
//		
//		$.ajax({
//			type:"post",
//			url:"emp/updateByUserId",
//			async:true,
//			data:{
//				nickname:$('#nickname').val(),
//				realname:$('#realname').val(),
//				identitycard:$('#identitycard').val(),
//				email:$('#email').val(),
//				phone:$('#phone').val(),
//				profile:$('#profile').val()
//			}
//		})
//		.done(function(data){
//			alert('请求成功');
//		})
//		.error(function(){
//			alert('请求失败');
//		});
		
//		
//	})
	
</script> 
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
			<div class="modal-dialog" style="width:480px;height: 280px;">
				<div class="modal-content">
					<div id="hhh" laynum="" class="panel-body" style="width:480px;height: 280px;">

														<div class="form-group">
															<label for="nf-email">修改密码</label>
															<input type="password" id="clibname" name="libName" class="form-control" placeholder="输入修改密码">
															<span  id="help_clibname" class="help-block">请输入密码</span>
														</div>
														<div class="form-group">
															<label for="nf-email">再次输入</label>
															<input type="password" id="clibtype" name="libType" class="form-control" placeholder="再次输入修改密码">
															<span id="help_clibtype" class="help-block">再次输入密码</span>
														</div>
														<div class="row">
														<div class="col-lg-8 col-md-8 col-sm-8"></div>
														<div class="col-lg-4 col-md-4 col-sm-4">
															<button id="createlib" class="bk-margin-5 btn btn-labeled btn-success" type="button">
															<span class="btn-label"><i class="fa fa-check"></i></span>提交修改</button>
														</div>
														</div>
													</form>
						</div>
						</div><!-- /.modal-content -->
					</div><!-- /.modal-dialog -->
	</div>
<div class="modal fade" id="createexammodel" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
			<div class="modal-dialog" style="width:480px;height: 280px;">
				<div class="modal-content bk-padding-15" style="width:450px;height: 250px;">
					<div class="col-lg-1">
					</div>
				<div class="col-lg-4 bk-padding-15" >
					<div class="panel bk-widget bk-border-off">
									<a class="panel-body bk-fg-primary bk-bg-white bk-ltr">
									<div class="text-left bk-vcenter bk-padding-off">
									<span class="bk-round bk-border-white bk-icon bk-icon-3x bk-bg-primary">
									<i class="fa  fa-desktop fa-3x"></i>
									</span>
									</div>
									<div class=" bk-vcenter ">
									<h4 class=" texbk-margin-off">智能创卷</h3>
									<h6 class="bk-fg-gray">可以根据用户所填试卷信息自动生成试卷</h6>
									
									</div>
									</a>
					</div>
				</div>
				<div class="col-lg-2"></div>
				<div class="col-lg-4 bk-padding-15">
					<div class="panel bk-widget bk-border-off">
										<a class="panel-body bk-fg-primary bk-bg-white bk-ltr">
										<div class="text-left bk-vcenter bk-padding-off">
										<span class="bk-round bk-border-white bk-icon bk-icon-3x bk-bg-primary">
										<i class="fa fa-user fa-3x"></i>
										</span>
										<div class=" bk-vcenter ">
										<h4 class=" texbk-margin-off">手动创卷</h3>
										<h6 class="bk-fg-gray">用户手动选择要加入的题库</h6>
										
										</div>
										</a>
					</div>
				</div>	
				
				
				
				</div><!-- /.modal-content -->
			</div><!-- /.modal-dialog -->
	</div>
</html>