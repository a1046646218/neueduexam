<!DOCTYPE html>
<html lang="en">

	<head>
	
		<!-- Basic -->
    	<meta charset="UTF-8" />

		<title>Login | Fire - Admin Template</title>
	
		<!-- Mobile Metas -->
	    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
		
		<!-- Import google fonts -->
        <link href='http://fonts.useso.com/css?family=Titillium+Web' rel='stylesheet' type='text/css' >
        	<link rel="apple-touch-icon" sizes="76x76" th:href="@{static/loginandregister/img/apple-icon.png}" />
	    <link rel="icon" type="image/png" th:href="@{static/loginandregister/img/favicon.png}" />
		<!-- Favicon and touch icons -->
		<link rel="shortcut icon" href="assets/ico/favicon.ico" type="image/x-icon" th:href="@{static/assets/ico/favicon.ico}"/>
		<link rel="apple-touch-icon" href="assets/ico/apple-touch-icon.png" th:href="@{static/assets/ico/apple-touch-icon.png}" />
		<link rel="apple-touch-icon" sizes="57x57" href="assets/ico/apple-touch-icon-57x57.png" th:href="@{static/assets/ico/apple-touch-icon-57x57.png}"/>
		<link rel="apple-touch-icon" sizes="72x72" href="assets/ico/apple-touch-icon-72x72.png" th:href="@{static/assets/ico/apple-touch-icon-72x72.png}"/>
		<link rel="apple-touch-icon" sizes="76x76" href="assets/ico/apple-touch-icon-76x76.png" th:href="@{static/assets/ico/apple-touch-icon-76x76.png}"/>
		<link rel="apple-touch-icon" sizes="114x114" href="assets/ico/apple-touch-icon-114x114.png" th:href="@{static/assets/ico/apple-touch-icon-114x114.png}"/>
		<link rel="apple-touch-icon" sizes="120x120" href="assets/ico/apple-touch-icon-120x120.png" th:href="@{static/assets/ico/apple-touch-icon-120x120.png}"/>
		<link rel="apple-touch-icon" sizes="144x144" href="assets/ico/apple-touch-icon-144x144.png" th:href="@{static/assets/ico/apple-touch-icon-144x144.png}"/>
		<link rel="apple-touch-icon" sizes="152x152" href="assets/ico/apple-touch-icon-152x152.png" th:href="@{static/assets/ico/apple-touch-icon-152x152.png}"/>
		
	    <!-- start: CSS file-->
		
		<!-- Vendor CSS-->
		<link href="assets/vendor/bootstrap/css/bootstrap.min.css" th:href="@{static/assets/vendor/bootstrap/css/bootstrap.min.css}" rel="stylesheet" />
		<link href="assets/vendor/skycons/css/skycons.css" th:href="@{static/assets/vendor/skycons/css/skycons.css}" rel="stylesheet" />
		<link href="assets/vendor/font-awesome/css/font-awesome.min.css" th:href="@{static/assets/vendor/font-awesome/css/font-awesome.min.css}" rel="stylesheet" />
		
		<!-- Plugins CSS-->
		<link href="assets/plugins/bootkit/css/bootkit.css" rel="stylesheet" th:href="@{static/assets/plugins/bootkit/css/bootkit.css}"/>	
		
		<!-- Theme CSS -->
		<link href="assets/css/jquery.mmenu.css" rel="stylesheet" th:href="@{static/assets/css/jquery.mmenu.css}"/>
		
		<!-- Page CSS -->		
		<link href="assets/css/style.css" rel="stylesheet" th:href="@{static/assets/css/style.css}"/>
		<link href="assets/css/add-ons.min.css" rel="stylesheet" th:href="@{static/assets/css/add-ons.min.css}"/>
			<link rel="apple-touch-icon" sizes="76x76" th:href="@{static/loginandregister/img/apple-icon.png}" />
	<link rel="icon" type="image/png" th:href="@{static/loginandregister/img/favicon.png}" />
	<title>Paper Bootstrap Wizard by Creative Tim</title>

	<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
    <meta name="viewport" content="width=device-width" />

	<!-- CSS Files -->
    <link th:href="@{static/loginandregister/css/bootstrap.min.css}" rel="stylesheet" />
	<link th:href="@{static/loginandregister/css/paper-bootstrap-wizard.css}" rel="stylesheet" />

	<!-- CSS Just for demo purpose, don't include it in your project -->
	<link th:href="@{static/loginandregister/css/demo.css}" rel="stylesheet" />

	<!-- Fonts and Icons -->
    <link href="http://netdna.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.css" rel="stylesheet">
	<link href='https://fonts.googleapis.com/css?family=Muli:400,300' rel='stylesheet' type='text/css'>
	<link th:href="@{static/loginandregister/css/themify-icons.css}" rel="stylesheet">
		<style>
			footer {
				display: none;
			}
        .drag{
            width: 250px;
            height: 40px;
            line-height: 40px;
            background-color: #e8e8e8;
            position: relative;
            margin:0 auto;
        }
         .drag1{
            width: 80px;
            height: 40px;
            line-height: 40px;
            background-color: #e8e8e8;
            position: relative;
            margin:0 auto;
        }
        .bg{
            width:40px;
            height: 100%;
            position: absolute;
            background-color: #75CDF9;
        }
        .text{
            position: absolute;
            width: 100%;
            height: 100%;
            text-align: center;
            user-select: none;
        }
        .btnla{
            width:40px;
            height: 38px;
            position: absolute;
            border:1px solid #ccc;
            cursor: move;
            font-family: "宋体";
            text-align: center;
            background-color: #fff;
            user-select: none;
            color:#666;
        }
        .btn{
            width:40px;
            height: 38px;
            position: absolute;
            border:1px solid #ccc;
            cursor: move;
            font-family: "宋体";
            text-align: center;
            background-color: #fff;
            user-select: none;
            color:#666;
        }
        .bk-margin-bottom-31 {
    margin-bottom: 50px !important;
}
		</style>
		
		<!-- end: CSS file-->	
	    
		
		<!-- Head Libs -->
		<script src="assets/plugins/modernizr/js/modernizr.js" th:src="@{static/assets/plugins/modernizr/js/modernizr.js}"></script>
		
		<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
		<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
		<!--[if lt IE 9]>
			<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
			<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
		<![endif]-->		
		
	</head>

	<body>
		<!-- Start: Content -->
		<div class="image-container set-full-height" style="background-image: url('static/loginandregister/img/paper-2.jpeg')">
		<div class="container-fluid content">
			<div class="row">
				<!-- Main Page -->
				<div id="content" class="col-sm-12 full">
					<div class="row">
						<div class="login-box" style="padding-top: 80px;">
							<div class="panel">
								<div class="panel-body">								
									<div class="header bk-margin-bottom-20 text-center">										
										<img th:src="@{static/assets/img/logo.png}" class="img-responsive" alt="" />
										<h4>Log In</h4>
									</div>		
									<form class="form-horizontal login" action="logincontroller" method="post" id="loginForm">
										<div class="bk-padding-left-20 bk-padding-right-20">
											<div class="form-group">
												<label>手机号</label>
												<div class="input-group input-group-icon">
													<input class="form-control bk-radius" type="text" name="phone"  id="phone" placeholder="手机号" />
													<span class="input-group-addon">
														<span class="icon">
															<i class="fa fa-user"></i>
														</span>
													</span>
												</div>
												<div id="scan"></div>
											</div>											
											<div class="form-group">
												<label>密码</label>
												<div class="input-group input-group-icon">
													<input class="form-control bk-radius" type="password" name="password"   id="Password" placeholder="密码"/>
													<span class="input-group-addon">
														<span class="icon">
															<i class="fa fa-key"></i>
														</span>
													</span>
												</div>
												<div   id="scan2"></div>
											</div>
											<div class="form-group">
												
												<div class="drag">
                                                 <div class="bg"></div>
                                                 <div class="text" onselectstart="return false;">请拖动滑块解锁</div>
                                                 <div class="btnla">&gt;&gt;</div>
                                                 </div>
												</div>	
												<div class="form-group">
												<div th:switch="${errorMsg}">
                                                <p style="color:#BD2D29;" th:case="'0'">账号不存在</p>
                                                <p style="color:#BD2D29;" th:case="'1'">密码错误</p>
                                                </div>
												</div>
												<div class="col-sm-2">
												<input type='submit' class='btn  btn-fill btn-success btn-wd'  value='登录' />
												</div>
			
											</div>
											<div>
										
											</div>
																					
											<div class="text-center bk-margin-top-10 bk-margin-bottom-31">
											
											<a href="toregister">
											<input type='button' class='btn  btn-fill btn-success btn-wd'  value='没有账号' />
											</a>
											
											</div>
											
										</div>
									</form>
								</div>
							</div>
							
						</div>
					</div>			
				</div>
				<!-- End Main Page -->
			</div>
		</div><!--/container-->
		</div>
		
		
		<!-- start: JavaScript-->
		
		<!-- Vendor JS-->				
		<script src="assets/vendor/js/jquery.min.js" th:src="@{static/assets/vendor/js/jquery.min.js}"></script>
		<script src="assets/vendor/js/jquery-2.1.1.min.js" th:src="@{static/assets/vendor/js/jquery-2.1.1.min.js}"></script>
		<script src="assets/vendor/js/jquery-migrate-1.2.1.min.js" th:src="@{static/assets/vendor/js/jquery-migrate-1.2.1.min.js}"></script>
		<script src="assets/vendor/bootstrap/js/bootstrap.min.js" th:src="@{static/assets/vendor/bootstrap/js/bootstrap.min.js}"></script>
		<script src="assets/vendor/skycons/js/skycons.js" th:src="@{static/assets/vendor/skycons/js/skycons.js}"></script>	
		
		<!-- Plugins JS-->
		<script src="assets/plugins/bootkit/js/bootkit.js" th:src="@{static/assets/plugins/bootkit/js/bootkit.js}"></script>
		
		<!-- Theme JS -->		
		<script src="assets/js/jquery.mmenu.min.js" th:src="@{static/assets/js/jquery.mmenu.min.js}"></script>
		<script src="assets/js/core.min.js" th:src="@{static/assets/js/core.min.js}"></script>
		
		<!-- Pages JS -->
		<script src="assets/js/pages/page-login.js" th:src="@{static/assets/js/pages/page-login.js}"></script>
			<script th:src="@{static/loginandregister/js/jquery-2.2.4.min.js}" type="text/javascript"></script>
	<script th:src="@{static/loginandregister/js/bootstrap.min.js}" type="text/javascript"></script>
	<script th:src="@{static/loginandregister/js/jquery.bootstrap.wizard.js}" type="text/javascript"></script>

	<!--  Plugin for the Wizard -->
	<script th:src="@{static/loginandregister/js/paper-bootstrap-wizard.js}" type="text/javascript"></script>

	<!--  More information about jquery.validate here: http://jqueryvalidation.org/	 -->
	<script th:src="@{static/loginandregister/js/jquery.validate.min.js}" type="text/javascript"></script>
		<!-- end: JavaScript-->
		<script>
$(function(){
   var check;
   function checkuserName()
     {
    			var userName=$("#phone").val();
    			var $msg=$('#scan').html("");
    			if(userName==''){
    				
    				$msg.html("<font style=\"color: #BD2D29;\">用户名不能为空</font>");
    				
    			
    				
    		
    				return false;
    			}
    			$msg.html("<font style=\"color:  #01B6AD;\">输入正确</font>");
    			return true; 
     }
   function checkPassword(){
  	 var Password=$("#Password").val();
			var $msg=$('#scan2').html("");
			if(Password.length<6){
				$msg.html("<font style=\"color: #BD2D29;\">密码长度不能小于6</font>");
				return false;
			}
			$msg.html("<font style=\"color:  #01B6AD;\">输入正确</font>");
			return true; 
   }
   $("#phone").blur(checkuserName);
   $("#Password").blur(checkPassword);
   $("form").submit(function(){
		if(checkuserName()==false)
		{
			
			
			return false;
		}
		if(checkPassword()==false)
		{
		
			return false;
		}
		var $text=$(".text");
		if($text.html()=="请拖动滑块解锁")
		{ 
		   return false;	
		}
		return true;
	    })
});
</script>
<script>
$(function(){
	 var $ = function(selector){
         return  document.querySelector(selector);
     };
 var box = $(".drag");//容器
 var bg = $(".bg");//背景
 var text = $(".text");//文字
 var btn = $(".btnla");//滑块
 var success = false;//是否通过验证的标志
 var distance = box.offsetWidth - btn.offsetWidth;//滑动成功的宽度（距离）

//二、给滑块注册鼠标按下事件
btn.onmousedown = function(e){

//1.鼠标按下之前必须清除掉后面设置的过渡属性
btn.style.transition = "";
bg.style.transition ="";

//说明：clientX 事件属性会返回当事件被触发时，鼠标指针向对于浏览器页面(或客户区)的水平坐标。

//2.当滑块位于初始位置时，得到鼠标按下时的水平位置
var e = e || window.event;
var downX = e.clientX;

//三、给文档注册鼠标移动事件
document.onmousemove = function(e){

    var e = e || window.event;
    //1.获取鼠标移动后的水平位置
    var moveX = e.clientX;

    //2.得到鼠标水平位置的偏移量（鼠标移动时的位置 - 鼠标按下时的位置）
    var offsetX = moveX - downX;

    //3.在这里判断一下：鼠标水平移动的距离 与 滑动成功的距离 之间的关系
    if( offsetX > distance){
        offsetX = distance;//如果滑过了终点，就将它停留在终点位置
    }else if( offsetX < 0){
        offsetX = 0;//如果滑到了起点的左侧，就将它重置为起点位置
    }

    //4.根据鼠标移动的距离来动态设置滑块的偏移量和背景颜色的宽度
    btn.style.left = offsetX + "px";
    bg.style.width = offsetX + "px";

    //如果鼠标的水平移动距离 = 滑动成功的宽度
    if( offsetX == distance){

        //1.设置滑动成功后的样式
        text.innerHTML = "验证通过";
        text.style.color = "#fff";
        btn.innerHTML = "&radic;";
        btn.style.color = "green";
        bg.style.backgroundColor = "lightgreen";

        //2.设置滑动成功后的状态
        success = true;
        //成功后，清除掉鼠标按下事件和移动事件（因为移动时并不会涉及到鼠标松开事件）
        btn.onmousedown = null;
        document.onmousemove = null;

        //3.成功解锁后的回调函数
        setTimeout(function(){
            alert('解锁成功！');
        },100);
    }
}

//四、给文档注册鼠标松开事件
document.onmouseup = function(e){

    //如果鼠标松开时，滑到了终点，则验证通过
    if(success){
        return;
    }else{
        //反之，则将滑块复位（设置了1s的属性过渡效果）
        btn.style.left = 0;
        bg.style.width = 0;
        btn.style.transition = "left 1s ease";
        bg.style.transition = "width 1s ease";
    }
    //只要鼠标松开了，说明此时不需要拖动滑块了，那么就清除鼠标移动和松开事件。
    document.onmousemove = null;
    document.onmouseup = null;
}
}
})
</script>
		
	</body>
	
</html>